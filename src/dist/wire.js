(()=>{function e(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,o=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw i}}return o}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return t(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var o=new Map,a=function(){function t(e){r(this,t),this.el=e,this.updateId(),this.updateData()}return i(t,[{key:"updateId",value:function(){this.id=this.el.getAttribute("x-wire")}},{key:"updateData",value:function(){var t=this;if(this.el.getAttribute("x-wire-data")){this.data=this.data||window.Alpine.reactive({});var r=JSON.parse(this.el.getAttribute("x-wire-data"));Object.entries(r).forEach((function(r){var n=e(r,2),i=n[0],o=n[1];t.data[i]=o})),this.el.removeAttribute("x-wire-data"),this.logErrors()}}},{key:"logErrors",value:function(){this.data.serverMemo.errors.forEach((function(e){console.error(e)}))}},{key:"$wire",get:function(){var e=this;return new Proxy({},{get:function(t,r){return e.get(r)},set:function(t,r,n){return e.set(r,n)}})}},{key:"hasPropertyValue",value:function(e){return e in this.data.serverMemo.data}},{key:"getPropertyValue",value:function(e){return this.data.serverMemo.data[e]}},{key:"call",value:function(e){var t=this.el,r=this.data;return function(){var n={fingerprint:r.fingerprint,serverMemo:r.serverMemo,call:{method:e,arguments:Array.prototype.slice.call(arguments)}};fetch("/wp-json/wire/v1/wire",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"json="+encodeURI(JSON.stringify(n))}).then((function(e){return e.json()})).then((function(e){e&&e.html&&window.Alpine.morph(t,e.html)}))}}},{key:"get",value:function(e){return this.hasPropertyValue(e)?this.getPropertyValue(e):this.call(e)}},{key:"set",value:function(e,t){return e in this.data.serverMemo.data&&(this.data.serverMemo.data[e]=t),!0}}]),t}();new(function(){function e(){var t=this;r(this,e),this.forceDataDirectiveToBody(),document.addEventListener("alpine:init",(function(){t.registerWireDirective(),t.registerWireMacicProperty(),t.validate()}))}return i(e,[{key:"validate",value:function(){setTimeout((function(){window.Alpine.morph||console.error('Plugin "morph" is not included. Find out more here: https://alpinejs.dev/plugins/morph')}),1)}},{key:"registerWireDirective",value:function(){window.Alpine.directive("wire",(function(e,t){var r=t.expression;o.has(r)||o.set(r,new a(e))})),window.Alpine.directive("wire-data",(function(e,t){t.expression;var r=e.getAttribute("x-wire");o.has(r)&&o.get(r).updateData()}))}},{key:"registerWireMacicProperty",value:function(){window.Alpine.magic("wire",(function(e){var t=e.closest("[x-wire]"),r=t.getAttribute("x-wire");return t?o.has(r)?o.get(r).$wire:(console.error('Alpine: Cannot reference "$wire" for Livewire component with id '.concat(r,".")),null):(console.error('Alpine: Cannot reference "$wire" outside a Livewire component.'),null)}))}},{key:"forceDataDirectiveToBody",value:function(){var e=this;document.body?document.body.hasAttribute("x-data")||document.body.setAttribute("x-data",""):setTimeout((function(){e.forceDataDirectiveToBody()}))}}]),e}())})();